<!DOCTYPE html>
<html>
  <head>
    <title>排行榜</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/排行榜/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/prototypePre.js"></script>
    <script src="data/document.js"></script>
    <script src="resources/scripts/prototypePost.js"></script>
    <script src="files/排行榜/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
    <script src="resources/fun.js"></script>
    <style>
      table{
        border-radius: 3px;
        position: absolute;
        top:250px;
        left:380px;
        text-align: center;
        font-size: 60px;
      }
    </style>
  </head>
  <body onload="my()">
    <div id="base" class="">
        <div id="u23" class="ax_default image" style="position:absolute; left:0px; top:0px; width:100%; height:100%" >
          <img id="u23_img" class="img " src="images/排行榜/排行榜3.png" width="100%" height="100%"/>
      </div>

      <!-- Unnamed (图片) -->
      <div id="u24" class="ax_default image" onclick="document.location.href=('首页.html')">
        <img id="u24_img" class="img " src="images/登录/u3.png"/>
      </div>
<!--      表格-->
      <table class="grid"  style="width: 1000px;height: 480px"  bgcolor="#1c394f">
        <thead>
        <tr>
          <td width="250px" height="40px">排名</td>
          <td width="250px">ID</td>
          <td width="250px">用户名</td>
          <td width="250px">总分</td>
        </tr>
        </thead>
         <tbody id="mytable">

         </tbody>
      </table>
    </div>
    <script>
      function my() {
        var data = null;
        var obj;
        var xhr = new XMLHttpRequest();
        // xhr.withCredentials = true;
        xhr.onreadystatechange=function(){
          if(xhr.readyState==4&&xhr.status==200){
            var json=xhr.responseText;
            obj=JSON.parse(xhr.responseText);
            function getJsonLength(json){
              var jsonLength=0;
              for (var i in json) {
                var j=jsonLength;
                var s=j+1;
                document.getElementById("mytable").innerHTML+='<tr><td>'+s+'</td><td>'+obj[j].player_id+'</td><td>'+obj[j].name+'</td><td>'+obj[j].score+'</td></tr>';
                jsonLength++;
              }
            }
            getJsonLength(json);
          }
        }
        xhr.open("GET", "https://api.shisanshui.rtxux.xyz/rank",true);
        xhr.send(data);
      }

    </script>
  </body>
</html>
